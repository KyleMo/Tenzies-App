{"ast":null,"code":"import _objectSpread from\"/Users/kylemonstad/Desktop/Tenzies/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/kylemonstad/Desktop/Tenzies/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Die from'../Die/Die.js';import{nanoid}from'nanoid';import Confetti from'react-confetti';import Stopwatch from'../Stopwatch/Stopwatch.js';import'./tenzies-game.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TenziesGame=function TenziesGame(_ref){var extreme=_ref.extreme,difficulty=_ref.difficulty;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),tenzies=_React$useState2[0],setTenzies=_React$useState2[1];var _React$useState3=React.useState(allNewDice()),_React$useState4=_slicedToArray(_React$useState3,2),diceArr=_React$useState4[0],setDiceArr=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),clockRunning=_React$useState6[0],setClockRunning=_React$useState6[1];var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),time=_React$useState8[0],setTime=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),viewSettings=_React$useState10[0],setViewSettings=_React$useState10[1];var interval=React.useRef(null);var _React$useState11=React.useState(Infinity),_React$useState12=_slicedToArray(_React$useState11,2),fastestTime=_React$useState12[0],setFastestTime=_React$useState12[1];var _React$useState13=React.useState(false),_React$useState14=_slicedToArray(_React$useState13,2),confetti=_React$useState14[0],setConfetti=_React$useState14[1];var width=600;var height=600;//\nReact.useEffect(function(){if(extreme&&clockRunning){interval.current=setInterval(function(){setDiceArr(function(diceArr){return diceArr.map(function(dice){return dice.isHeld?dice:generateNewDie();});});},1500);}return function(){clearInterval(interval.current);};},[extreme,clockRunning]);React.useEffect(function(){var interval;if(clockRunning){interval=setInterval(function(){setTime(function(prevTime){return prevTime+10;});},10);}return function(){return clearInterval(interval);};},[clockRunning]);React.useEffect(function(){var allHeld=diceArr.every(function(dice){return dice.isHeld;});var allSameVal=diceArr.every(function(dice){return dice.value===diceArr[0].value;});if(allHeld&&allSameVal){clearInterval(interval.current);setClockRunning(false);setTenzies(true);if(time<fastestTime){setFastestTime(time);setConfetti(true);}}},[diceArr]);function generateNewDie(){return{value:Math.floor(Math.random()*6)+1,isHeld:false,id:nanoid()};}function allNewDice(){var diceArray=[];var i=0;while(i<difficulty){diceArray.push(generateNewDie());i++;}return diceArray;}function rollDice(){setClockRunning(true);setDiceArr(function(diceArr){return diceArr.map(function(dice){return dice.isHeld?dice:generateNewDie();});});}function startNewGame(){setConfetti(false);setTime(0);setTenzies(false);setDiceArr(allNewDice());}function setTrue(id){setClockRunning(true);setDiceArr(function(prevArr){return prevArr.map(function(dice){return id===dice.id?_objectSpread(_objectSpread({},dice),{},{isHeld:!dice.isHeld}):dice;});});}var dies=diceArr.map(function(dice,index){return/*#__PURE__*/_jsx(Die,{isHeld:dice.isHeld,eventHandle:function eventHandle(){return setTrue(dice.id);},value:dice.value},dice.id);});return/*#__PURE__*/_jsxs(\"main\",{className:\"main-game\",children:[confetti&&/*#__PURE__*/_jsx(Confetti,{width:width,height:height}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Tenzies\"}),/*#__PURE__*/_jsx(\"p\",{className:\"instructions\",children:\"Roll until all dice are the same. Click each die to freeze it at its current value between rolls.\"}),/*#__PURE__*/_jsx(Stopwatch,{time:time}),fastestTime!==Infinity&&/*#__PURE__*/_jsx(\"div\",{className:\"fastestTime\",children:fastestTime!==Infinity&&/*#__PURE__*/_jsx(Stopwatch,{time:fastestTime})}),/*#__PURE__*/_jsx(\"div\",{className:difficulty>29?\"die-container-2\":\"die-container\",children:dies}),/*#__PURE__*/_jsx(\"button\",{onClick:tenzies?startNewGame:rollDice,className:\"roll-die-btn\",children:tenzies?\"New Game\":\"Roll\"})]});};export default TenziesGame;","map":{"version":3,"sources":["/Users/kylemonstad/Desktop/Tenzies/client/src/components/TenziesGame/TenziesGame.js"],"names":["React","Die","nanoid","Confetti","Stopwatch","TenziesGame","extreme","difficulty","useState","tenzies","setTenzies","allNewDice","diceArr","setDiceArr","clockRunning","setClockRunning","time","setTime","viewSettings","setViewSettings","interval","useRef","Infinity","fastestTime","setFastestTime","confetti","setConfetti","width","height","useEffect","current","setInterval","map","dice","isHeld","generateNewDie","clearInterval","prevTime","allHeld","every","allSameVal","value","Math","floor","random","id","diceArray","i","push","rollDice","startNewGame","setTrue","prevArr","dies","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Die from '../Die/Die.js'\nimport {nanoid} from 'nanoid'\nimport Confetti from 'react-confetti'\nimport Stopwatch from '../Stopwatch/Stopwatch.js'\nimport './tenzies-game.css'\n\n\nconst TenziesGame = ({extreme, difficulty}) => {\n\n  const [tenzies, setTenzies] = React.useState(false)\n  const [diceArr, setDiceArr] = React.useState(allNewDice())\n  const [clockRunning, setClockRunning] = React.useState(false)\n  const [time, setTime] = React.useState(0);\n  const [viewSettings, setViewSettings] = React.useState(false)\n  const interval = React.useRef(null)\n  const [fastestTime, setFastestTime] = React.useState(Infinity)\n  const [confetti, setConfetti] = React.useState(false)\n  let width = 600;\n  let height = 600;\n\n//\n\n  React.useEffect(() => {\n    if(extreme && clockRunning){\n       interval.current = setInterval(()=>{\n        setDiceArr(diceArr => diceArr.map(dice => {\n          return dice.isHeld ? dice : generateNewDie()\n        }));\n      },1500)\n    }\n    return () => {\n      clearInterval(interval.current);\n    };\n  },[extreme, clockRunning])\n\n  React.useEffect(() => {\n    let interval;\n    if(clockRunning){\n      interval = setInterval(() => {\n        setTime(prevTime => prevTime + 10)\n      },10)\n    }\n    return () => clearInterval(interval)\n  },[clockRunning])\n\n  React.useEffect(() => {\n\n    const allHeld = diceArr.every((dice) => dice.isHeld)\n    const allSameVal = diceArr.every((dice) => dice.value === diceArr[0].value)\n\n    if (allHeld && allSameVal){\n      clearInterval(interval.current);\n      setClockRunning(false)\n      setTenzies(true)\n      if(time < fastestTime){\n        setFastestTime(time)\n        setConfetti(true)\n      }\n    }\n\n  },[diceArr])\n\n\n  function generateNewDie() {\n    return {\n      value: Math.floor(Math.random() * 6)+1,\n      isHeld: false,\n      id: nanoid()\n    }\n  }\n\n  function allNewDice() {\n    const diceArray = []\n    let i = 0;\n    while (i < difficulty){\n      diceArray.push(generateNewDie());\n      i++;\n    }\n    return diceArray;\n  }\n\n  function rollDice() {\n    setClockRunning(true)\n    setDiceArr(diceArr => diceArr.map(dice => {\n      return dice.isHeld ? dice : generateNewDie()\n    }));\n  }\n\n  function startNewGame(){\n    setConfetti(false)\n    setTime(0)\n    setTenzies(false);\n    setDiceArr(allNewDice())\n  }\n\n  function setTrue(id){\n    setClockRunning(true)\n    setDiceArr(prevArr => prevArr.map(dice => {\n      return id === dice.id ? ({...dice, isHeld: !dice.isHeld}) : dice\n      }))\n  }\n\n  const dies = diceArr.map((dice,index) => <Die key={dice.id} isHeld={dice.isHeld} eventHandle={() => setTrue(dice.id)} value={dice.value} />)\n\n  return (\n    <main className=\"main-game\">\n      {confetti && <Confetti width={width} height={height}/>}\n      <h1 className=\"title\">Tenzies</h1>\n      <p className=\"instructions\">Roll until all dice are the same. Click each die to freeze it at its current value between rolls.</p>\n      <Stopwatch time={time}/>\n      {fastestTime !== Infinity && <div className=\"fastestTime\">{fastestTime !== Infinity && <Stopwatch time={fastestTime} />}</div>}\n      <div className={difficulty>29?\"die-container-2\":\"die-container\"}>\n        {dies}\n      </div>\n      <button onClick={tenzies?startNewGame:rollDice} className=\"roll-die-btn\">{tenzies?\"New Game\":\"Roll\"}</button>\n    </main>\n  );\n}\n\nexport default TenziesGame;\n"]},"metadata":{},"sourceType":"module"}